<html>
  <head>
    <title>Funzioni 2</title>
  </head>
  <body>
    <h1>Funzioni 2 </h1>
    <a></a> <!-- anchor -->
    <p id="paragrafo-1">Paragrafo 1</p> <!-- paragrafi -->
    <p id="paragrafo-2">Paragrafo 2</p> <!-- paragrafi -->
    <p id="paragrafo-3">Paragrafo 3</p> <!-- paragrafi -->
    <script type="text/javascript">

        function greet(who) {
          console.log("Hi " +  who);
        }

        greet("Roberto");
        console.log("Arrivederci");

        function gallina() {
          return uovo();
        }
        function uovo() {
          return gallina();
        }
        //console.log(gallina() + " venne prima.");
        function square(x) { return x*x; }
        console.log(square(5, true));

        function  power(base, exponent = 2) {
          console.log(exponent);
        }

        power(1);
        power(1, 3);

        /** CLOSURE **/
        function wrapValue(n) {
          let local = n;
          return () => local;
        }
        let wrap1 = wrapValue(55);
        let wrap2 = wrapValue(57);

        console.log(wrap1());
        console.log(wrap2());

        function multiplier(factor) {
          return number => number * factor;
        }

        let twice = multiplier(2);
        console.log(twice(5));
        console.log(twice(7));


        // function power(base, exponent) {
        //   if (exponent == 0) {
        //     return 1;
        //   } else {
        //     return base * power(base, exponent -1)
        //   }
        // }
        // console.log((power(2, 3)));

        /** FUNZIONI ANONIME */

        let somma = (function (x,y) {
          return x + y;
        } (4,8));
        console.log(somma);

        let somma2 = function Sum(x, y) {
          return  x + y;
        }
        console.log(somma2.name);
        console.log(somma2.length);

        /** DOCUMENT */
        document.write(somma);
        document.getElementById("paragrafo-3").innerHTML = "Il valore di somma e' " + somma;
        document.getElementById("paragrafo-2").innerHTML = "<strong>scrivo in grassetto</strong>";
        document.getElementById("paragrafo-2").style.backgroundColor = "red";

        for (let i = 0; i < 20; i++) {
          document.getElementById("paragrafo-1").innerHTML += `<p>test ${i}</p>`;
        }


        function foo(i) {
          if (i < 0)
            return;
          console.log('begin: ' + i);
          foo(i - 1);
          console.log('end: ' + i);
        }
        foo(3);

    </script>
  </body>
</html>
